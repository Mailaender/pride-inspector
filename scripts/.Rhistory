IRkernel::installspec()
system2('jupyter', '--version', TRUE, FALSE)
setwd("~/IdeaProjects/github-repo/toolsuite-organization/pride-inspector/scripts")
library(corrplot)
library(fitdistrplus)
library(mclust)
library(ggplot2)
library(optparse)
projects <- read.delim(file = "project_assessments.tsv", header = TRUE)
projects[is.na(projects)] <- 0
projects$diff <- (1 - projects$INCORRECT_SPECTRA/projects$SPECTRA_IN_REL_CLUSTERS)
projects$diffCont <- (1- projects$CONTAMINANT_INCORRECT_SPECTRA/projects$SPECTRA_IN_REL_CLUSTERS)
values <- projects
values <- values[order(-values$diff),]
values$order <- seq.int(nrow(values))
clust <- kmeans(values$diff, centers = 4, iter.max = 10, nstart = 1,
algorithm = c("Lloyd"), trace=FALSE)
png(filename= paste(opt$folderAnalysis,"/", opt$plotName, "-cluster.png", collapse = NULL, sep = ""))
plot(values$diff, col = clust$cluster, xlab = "Order of Projects in the Cluster", ylab = "Realiability Score")
dev.off()
values$class <- clust$cluster
clust
clust$centers
current = values$class[1]
View(values)
current = values$class[0]
values$NewClass[1] = 1
current = values$class[1]
values$NewClass[1] = 1
count = 2;
class = 1
for( 2:nrow(values) ){
if(values$class[count] == current){
values$NewClass[1] = class
}else{
class = class + 1
values$NewClass[1] = class
current = values$class[count]
}
count = count + 1
}
current = values$class[1]
values$NewClass[1] = 1
class = 1
for(count in  2:nrow(values) ){
if(values$class[count] == current){
values$NewClass[1] = class
}else{
class = class + 1
values$NewClass[1] = class
current = values$class[count]
}
}
current = values$class[1]
values$NewClass[1] = 1
class = 1
for(count in  2:nrow(values) ){
if(values$class[count] == current){
values$NewClass[count] = class
}else{
class = class + 1
values$NewClass[count] = class
current = values$class[count]
}
}
values$class <- NULL
names(values)[names(values)=="NewClass"] <- "class"
